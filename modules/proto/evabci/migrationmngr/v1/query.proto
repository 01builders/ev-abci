syntax = "proto3";
package evabci.migrationmngr.v1;

import "amino/amino.proto";
import "gogoproto/gogo.proto";
import "google/api/annotations.proto";
import "evabci/migrationmngr/v1/types.proto";

option go_package = "github.com/evstack/ev-abci/modules/migrationmngr/types";

// Query defines the gRPC querier service.
service Query {
  // IsMigrating queries whether a migration is in progress.
  rpc IsMigrating(QueryIsMigratingRequest) returns (QueryIsMigratingResponse) {
    option (google.api.http).get = "/evabci/migrationmngr/v1/is_migrating";
  }
}

// QueryIsMigratingRequest is request type for the Query/IsMigrating RPC method.
message QueryIsMigratingRequest {}

// QueryIsMigratingResponse is response type for the Query/IsMigrating RPC method.
message QueryIsMigratingResponse {
  // is_migrating indicates whether a migration is in progress.
  bool is_migrating = 1;

  // start_block_height is the block height at which the migration will start.
  uint64 start_block_height = 2;

  // end_block_height is the block height at which the migration will end.
  uint64 end_block_height = 3;
}
